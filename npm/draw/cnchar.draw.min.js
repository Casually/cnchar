!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(module,exports,__webpack_require__){(function(module){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,i;function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*! Hanzi Writer v2.2.2 | https://chanind.github.io/hanzi-writer */"undefined"!=typeof self&&self,i=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.t?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=9)}([function(t,e,r){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},n=e.performance&&function(){return e.performance.now()}||function(){return Date.now()},i=e.requestAnimationFrame||function(t){return setTimeout((function(){return t(n())}),1e3/60)},o=e.cancelAnimationFrame||clearTimeout,a=function(t){for(var e=Object(t),r=arguments.length,n=Array(1<r?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.forEach((function(t){if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})),e},s=Object.assign||a,h=0,c=e.navigator&&e.navigator.userAgent||"",u=0<c.indexOf("MSIE ")||0<c.indexOf("Trident/")||0<c.indexOf("Edge/");t.exports={e:a,arrLast:function(t){return t[t.length-1]},assign:s,average:function(t){return t.reduce((function(t,e){return e+t}),0)/t.length},callIfExists:function(t,e){return t&&t(e),e},cancelAnimationFrame:o,colorStringToVals:function(t){var e=t.toUpperCase().trim();if(/^#([A-F0-9]{3}){1,2}$/.test(e)){var r=e.substring(1).split("");3===r.length&&(r=[r[0],r[0],r[1],r[1],r[2],r[2]]);var n=""+r.join("");return{r:parseInt(n.slice(0,2),16),g:parseInt(n.slice(2,4),16),b:parseInt(n.slice(4,6),16),a:1}}var i=e.match(/^RGBA?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d*\.?\d+))?\)$/);if(i)return{r:parseInt(i[1],10),g:parseInt(i[2],10),b:parseInt(i[3],10),a:parseFloat(i[4]||1,10)};throw new Error("Invalid color: "+t)},copyAndMergeDeep:function t(e,n){var i=s({},e);for(var o in n){var a=e[o],h=n[o];a!==h&&(a&&h&&"object"===(void 0===a?"undefined":r(a))&&"object"===(void 0===h?"undefined":r(h))&&!Array.isArray(h)?i[o]=t(a,h):i[o]=h)}return i},counter:function(){return++h},emptyFunc:function(){},inflate:function(t,e){for(var r=t.split("."),n={},i=n,o=0;o<r.length;o++){var a=o===r.length-1?e:{};i[r[o]]=a,i=a}return n},objRepeat:function(t,e){for(var r={},n=0;n<e;n++)r[n]=t;return r},performanceNow:n,requestAnimationFrame:i,timeout:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(e,r){setTimeout(e,t)}))},trim:function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")},isMsBrowser:u}}).call(e,r(1))},function(Ia,Ja){var Ka;Ka=function(){return this}();try{Ka=Ka||Function("return this")()||eval("this")}catch(t){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&(Ka=window)}Ia.exports=Ka},function(t,e,r){"use strict";var n=r(0),i=n.average,o=n.arrLast,a=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},s=function(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))},h=function(t,e){return s(a(t,e))},c=function(t){var e=10*(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1);return{x:Math.round(e*t.x)/e,y:Math.round(e*t.y)/e}},u=function(t){var e=t[0];return t.slice(1).reduce((function(t,r){var n=h(r,e);return e=r,t+n}),0)},l=function(t,e,r){var n=a(e,t),i=r/s(n);return{x:e.x+i*n.x,y:e.y+i*n.y}},p=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.05,r=t.slice(0,1);return t.slice(1).forEach((function(t){var n=r[r.length-1],i=h(t,n);if(e<i)for(var o=Math.ceil(i/e),a=i/o,s=0;s<o;s++)r.push(l(t,n,-1*a*(s+1)));else r.push(t)})),r},f=function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:30,r=u(t)/(e-1),n=[t[0]],i=o(t),a=t.slice(1),s=0;s<e-2;s++)for(var c=o(n),p=r,f=!1;!f;){var d=h(c,a[0]);if(d<p)p-=d,c=a.shift();else{var y=l(c,a[0],p-d);n.push(y),f=!0}}return n.push(i),n},d=function(t){if(t.length<3)return t;var e=[t[0],t[1]];return t.slice(2).forEach((function(t,r){var n=e.length,i=a(t,e[n-1]),o=a(e[n-1],e[n-2]);i.y*o.x-i.x*o.y==0&&e.pop(),e.push(t)})),e};t.exports={round:c,equals:function(t,e){return t.x===e.x&&t.y===e.y},distance:h,getPathString:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=c(t[0]),n=t.slice(1),i="M "+r.x+" "+r.y;return n.forEach((function(t){var e=c(t);i+=" L "+e.x+" "+e.y})),e&&(i+="Z"),i},frechetDist:function(t,e){for(var r=[],n=0;n<t.length;n++){r.push([]);for(var i=0;i<e.length;i++)r[n].push(-1)}return function n(i,o){return-1<r[i][o]||(r[i][o]=0===i&&0===o?h(t[0],e[0]):0<i&&0===o?Math.max(n(i-1,0),h(t[i],e[0])):0===i&&0<o?Math.max(n(0,o-1),h(t[0],e[o])):0<i&&0<o?Math.max(Math.min(n(i-1,o),n(i-1,o-1),n(i,o-1)),h(t[i],e[o])):1/0),r[i][o]}(t.length-1,e.length-1)},length:u,rotate:function(t,e){return t.map((function(t){return{x:Math.cos(e)*t.x-Math.sin(e)*t.y,y:Math.sin(e)*t.x+Math.cos(e)*t.y}}))},subtract:a,extendStart:function(t,e){var r=d(t);if(r.length<2)return r;var n=r[1],i=r[0],o=l(n,i,e),a=r.slice(1);return a.unshift(o),a},cosineSimilarity:function(t,e){return(t.x*e.x+t.y*e.y)/s(t)/s(e)},outlineCurve:f,u:l,h:d,subdivideCurve:p,normalizeCurve:function(t){var e=f(t),r={x:i(e.map((function(t){return t.x}))),y:i(e.map((function(t){return t.y})))},n=e.map((function(t){return a(t,r)})),s=Math.sqrt(i([Math.pow(n[0].x,2)+Math.pow(n[0].y,2),Math.pow(o(n).x,2)+Math.pow(o(n).y,2)])),h=n.map((function(t){return{x:t.x/s,y:t.y/s}}));return p(h)}}},function(t,e,r){"use strict";(function(e){function r(t,e,r){t.setAttributeNS(null,e,r)}t.exports={createElm:function(t){return e.document.createElementNS("http://www.w3.org/2000/svg",t)},attrs:function(t,e){Object.keys(e).forEach((function(n){return r(t,n,e[n])}))},attr:r,removeElm:function(t){t&&t.parentNode.removeChild(t)},urlIdRef:function(t){var r="";return e.location&&e.location.href&&(r=e.location.href.replace(/#[^#]*$/,"")),"url("+r+"#"+t+")"}}}).call(e,r(1))},function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=r(5),o=r(0).objRepeat,a=function(t,e,r){return[new i("character."+t+".strokes",o({opacity:1,displayPortion:1},e.strokes.length),{duration:r,force:!0})]},s=function(t,e,r){return[new i("character."+t+".opacity",0,{duration:r,force:!0})].concat(a(t,e,0))},h=function(t,e,r){var o=e.strokeNum,a=(e.getLength()+600)/(3*r);return[new i("character."+t,{opacity:1,strokes:n({},o,{displayPortion:0,opacity:1})}),new i("character."+t+".strokes."+o+".displayPortion",1,{duration:a})]},c=function(t,e,r,n,c){var u=s(t,e,r);return(u=u.concat(a(t,e,0))).push(new i("character."+t,{opacity:1,strokes:o({opacity:0},e.strokes.length)},{force:!0})),e.strokes.forEach((function(e,r){0<r&&u.push(new i.Delay(c)),u=u.concat(h(t,e,n))})),u};t.exports={showStrokes:a,showCharacter:function(t,e,r){return[new i("character."+t,{opacity:1,strokes:o({opacity:1,displayPortion:1},e.strokes.length)},{duration:r,force:!0})]},hideCharacter:s,highlightStroke:function(t,e,r){var o=t.strokeNum,a=(t.getLength()+600)/(3*r);return[new i("character.highlight.strokeColor",e),new i("character.highlight",{opacity:1,strokes:n({},o,{displayPortion:0,opacity:0})}),new i("character.highlight.strokes."+o,{displayPortion:1,opacity:1},{duration:a}),new i("character.highlight.strokes."+o+".opacity",0,{duration:a})]},animateCharacter:c,animateCharacterLoop:function(t,e,r,n,o,a){var s=c(t,e,r,n,o);return s.push(new i.Delay(a)),s},animateStroke:h,animateSingleStroke:function(t,e,r,n){return[new i("character."+t,(function(r){for(var n=r.character[t],i={opacity:1,strokes:{}},o=0;o<e.strokes.length;o++)i.strokes[o]={opacity:n.opacity*n.strokes[o].opacity};return i}))].concat(h(t,e.strokes[r],n))},showStroke:function(t,e,r){return[new i("character."+t+".strokes."+e,{displayPortion:1,opacity:1},{duration:r,force:!0})]},updateColor:function(t,e,r){return[new i("options."+t,e,{duration:r})]}}},function(t,e,r){"use strict";var n=r(0),i=n.inflate,o=n.performanceNow,a=n.requestAnimationFrame,s=n.cancelAnimationFrame;function h(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.scope=t,this.f=e,this.v=r.duration||0,this.w=r.force,this.k=0,this.C=this.M.bind(this),this.S=null}function c(t){this.v=t,this.j=null,this.P=!1}h.prototype.run=function(t){var e=this;return this.O||this.A(t),0===this.v&&t.updateState(this.O),0===this.v||function t(e,r){for(var n in r)if(r.hasOwnProperty(n)){var i=r[n],o=e[n];if(0<=i){if(i!==o)return!1}else if(!t(o,i))return!1}return!0}(t.state,this.O)?Promise.resolve():(this.F=t,this.D=t.state,this.j=o(),this.T=a(this.C),new Promise((function(t){e.I=t})))},h.prototype.pause=function(){null===this.S&&(this.T&&s(this.T),this.S=o())},h.prototype.resume=function(){null!==this.S&&(this.T=a(this.C),this.k+=o()-this.S,this.S=null)},h.prototype.M=function(t){if(null===this.S){var e,r=Math.min(1,(t-this.j-this.k)/this.v);if(1===r)this.F.updateState(this.O),this.T=null,this.cancel(this.F);else{var n=(e=r,-Math.cos(e*Math.PI)/2+.5);this.F.updateState(function t(e,r,n){var i={};for(var o in r){var a=r[o],s=e[o];i[o]=0<=a?n*(a-s)+s:t(s,a,n)}return i}(this.D,this.O,n)),this.T=a(this.C)}}},h.prototype.A=function(t){var e=this.f;"function"==typeof this.f&&(e=this.f(t.state)),this.O=i(this.scope,e)},h.prototype.cancel=function(t){this.I&&this.I(),this.I=null,this.T&&s(this.T),this.T=null,this.w&&(this.O||this.A(t),t.updateState(this.O))},c.prototype.pause=function(){if(!this.P){var t=o()-this.j;this.v=Math.max(0,this.v-t),clearTimeout(this.W),this.P=!0}},c.prototype.resume=function(){var t=this;this.P&&(this.j=o(),this.W=setTimeout((function(){return t.cancel()}),this.v),this.P=!1)},c.prototype.run=function(){var t=this,e=new Promise((function(e){t.I=e}));return this.j=o(),this.W=setTimeout((function(){return t.cancel()}),this.v),e},c.prototype.cancel=function(){clearTimeout(this.W),this.I&&this.I(),this.I=!1},h.Delay=c,t.exports=h},function(t,e,r){"use strict";function n(){}n.prototype.z=function(t){return.999*this.R*(1-t)},n.prototype.H=function(t){var e=t.strokeColor,r=t.radicalColor;return r&&this.L.isInRadical?r:e},t.exports=n},function(t,e,r){"use strict";(function(e){function r(){}r.prototype.addPointerStartListener=function(t){var e=this;this.node.addEventListener("mousedown",(function(r){t(e.U(r,e._))})),this.node.addEventListener("touchstart",(function(r){t(e.U(r,e.K))}))},r.prototype.addPointerMoveListener=function(t){var e=this;this.node.addEventListener("mousemove",(function(r){t(e.U(r,e._))})),this.node.addEventListener("touchmove",(function(r){t(e.U(r,e.K))}))},r.prototype.addPointerEndListener=function(t){e.document.addEventListener("mouseup",t),e.document.addEventListener("touchend",t)},r.prototype.getBoundingClientRect=function(){return this.node.getBoundingClientRect()},r.prototype.U=function(t,e){var r=this;return{getPoint:function(){return e.call(r,t)},preventDefault:function(){return t.preventDefault()}}},r.prototype._=function(t){var e=this.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}},r.prototype.K=function(t){var e=this.getBoundingClientRect();return{x:t.touches[0].clientX-e.left,y:t.touches[0].clientY-e.top}},t.exports=r}).call(e,r(1))},function(t,e,r){"use strict";t.exports={drawPath:function(t,e){t.beginPath();var r=e[0],n=e.slice(1);t.moveTo(r.x,r.y),n.forEach((function(e){t.lineTo(e.x,e.y)})),t.stroke()},pathStringToCanvas:function(t){var e=t.split(/(^|\s+)(?=[A-Z])/).filter((function(t){return" "!==t})),r=[function(t){return t.beginPath()}];return e.forEach((function(t){var e,n=(e=t.split(/\s+/),Array.isArray(e)?e:Array.from(e)),i=n[0],o=n.slice(1).map((function(t){return parseFloat(t)}));"M"===i?r.push((function(t){return t.moveTo.apply(t,o)})):"L"===i?r.push((function(t){return t.lineTo.apply(t,o)})):"C"===i?r.push((function(t){return t.bezierCurveTo.apply(t,o)})):"Q"===i&&r.push((function(t){return t.quadraticCurveTo.apply(t,o)}))})),function(t){return r.forEach((function(e){return e(t)}))}}}},function(t,e,r){"use strict";var n=r(10),i=r(11),o=r(14),a=r(15),s=r(19),h=r(25),c=r(31),u=r(32),l=r(4),p=r(0),f=p.assign,d=p.callIfExists,y=p.trim,g=p.colorStringToVals,v={charDataLoader:c,onLoadCharDataError:null,onLoadCharDataSuccess:null,showOutline:!0,showCharacter:!0,renderer:"svg",width:null,height:null,padding:20,strokeAnimationSpeed:1,strokeFadeDuration:400,strokeHighlightDuration:200,strokeHighlightSpeed:2,delayBetweenStrokes:1e3,delayBetweenLoops:2e3,strokeColor:"#555",radicalColor:null,highlightColor:"#AAF",outlineColor:"#DDD",drawingColor:"#333",leniency:1,showHintAfterMisses:3,highlightOnComplete:!0,highlightCompleteColor:null,drawingFadeDuration:300,drawingWidth:4,strokeWidth:2,outlineWidth:2,rendererOverride:{}};function m(){if(0<arguments.length){var t=void 0,e={},r=arguments.length<=0?void 0:arguments[0];1<arguments.length&&(e="string"==typeof(arguments.length<=1?void 0:arguments[1])?(console.warn("Using new HanziWriter() to set a character is deprecated. Use HanziWriter.create() instead"),t=arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||{}):arguments.length<=1?void 0:arguments[1]),this.N(r,e),t&&this.setCharacter(t)}}m.prototype.showCharacter=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.B.showCharacter=!0,this.G((function(){return t.F.run(l.showCharacter("main",t.V,"number"==typeof e.duration?e.duration:t.B.strokeFadeDuration)).then((function(t){return d(e.onComplete,t)}))}))},m.prototype.hideCharacter=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.B.showCharacter=!1,this.G((function(){return t.F.run(l.hideCharacter("main",t.V,"number"==typeof e.duration?e.duration:t.B.strokeFadeDuration)).then((function(t){return d(e.onComplete,t)}))}))},m.prototype.animateCharacter=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.cancelQuiz(),this.G((function(){return t.F.run(l.animateCharacter("main",t.V,t.B.strokeFadeDuration,t.B.strokeAnimationSpeed,t.B.delayBetweenStrokes)).then((function(t){return d(e.onComplete,t)}))}))},m.prototype.animateStroke=function(t){var e=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.cancelQuiz(),this.G((function(){return e.F.run(l.animateSingleStroke("main",e.V,t,e.B.strokeAnimationSpeed)).then((function(t){return d(r.onComplete,t)}))}))},m.prototype.highlightStroke=function(t){var e=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.G((function(){return e.F.run(l.highlightStroke(e.V.strokes[t],e.B.highlightColor,e.B.strokeHighlightSpeed)).then((function(t){return d(r.onComplete,t)}))}))},m.prototype.loopCharacterAnimation=function(){var t=this;return 0<arguments.length&&void 0!==arguments[0]&&arguments[0],this.cancelQuiz(),this.G((function(){return t.F.run(l.animateCharacterLoop("main",t.V,t.B.strokeFadeDuration,t.B.strokeAnimationSpeed,t.B.delayBetweenStrokes,t.B.delayBetweenLoops),{loop:!0})}))},m.prototype.pauseAnimation=function(){var t=this;return this.G((function(){return t.F.pauseAll()}))},m.prototype.resumeAnimation=function(){var t=this;return this.G((function(){return t.F.resumeAll()}))},m.prototype.showOutline=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.B.showOutline=!0,this.G((function(){return t.F.run(l.showCharacter("outline",t.V,"number"==typeof e.duration?e.duration:t.B.strokeFadeDuration)).then((function(t){return d(e.onComplete,t)}))}))},m.prototype.hideOutline=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.B.showOutline=!1,this.G((function(){return t.F.run(l.hideCharacter("outline",t.V,"number"==typeof e.duration?e.duration:t.B.strokeFadeDuration)).then((function(t){return d(e.onComplete,t)}))}))},m.prototype.updateColor=function(t,e){var r=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return this.G((function(){var i="number"==typeof n.duration?n.duration:r.B.strokeFadeDuration,o=e;"radicalColor"!==t||e||(o=r.B.strokeColor);var a=g(o);r.B[t]=e;var s=l.updateColor(t,a,i);return"radicalColor"!==t||e||(s=s.concat(l.updateColor(t,null,0))),r.F.run(s).then((function(t){return d(n.onComplete,t)}))}))},m.prototype.quiz=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.G((function(){t.cancelQuiz(),t.$=new a(t.V,t.F,t.q),t.$.startQuiz(f({},t.B,e))}))},m.prototype.cancelQuiz=function(){this.$&&(this.$.cancel(),this.$=null)},m.prototype.setCharacter=function(t){var e=this;return this.cancelQuiz(),this.J=t,this.Q&&this.Q.destroy(),this.F&&this.F.cancelAll(),this.Q=null,this.Z=this.X.loadCharData(t).then((function(r){if(!e.X.loadingFailed){e.V=i(t,r),e.q=new o(e.B);var a=new e.Y.HanziWriterRenderer(e.V,e.q);e.Q=a,e.F=new n(e.V,e.B,(function(t){a.render(t)})),e.Q.mount(e.target,e.F.state),e.Q.render(e.F.state)}})),this.Z},m.prototype.N=function(t,e){var r="canvas"===e.renderer?h:s,n=e.rendererOverride||{};return this.Y={HanziWriterRenderer:n.HanziWriterRenderer||r.HanziWriterRenderer,createRenderTarget:n.createRenderTarget||r.createRenderTarget},this.target=this.Y.createRenderTarget(t,e.width,e.height),this.B=this.tt(e),this.X=new u(this.B),this.it(),this.$=null,this},m.prototype.tt=function(t){var e=f({},v,t);return t.strokeAnimationDuration&&!t.strokeAnimationSpeed&&(e.strokeAnimationSpeed=500/e.strokeAnimationDuration),t.strokeHighlightDuration&&!t.strokeHighlightSpeed&&(e.strokeHighlightSpeed=500/e.strokeHighlightDuration),t.highlightCompleteColor||(e.highlightCompleteColor=e.highlightColor),this.nt(e)},m.prototype.nt=function(t){var e=f({},t);if(e.width&&!e.height)e.height=e.width;else if(e.height&&!e.width)e.width=e.height;else if(!e.width&&!e.height){var r=this.target.getBoundingClientRect(),n=r.width,i=r.height,o=Math.min(n,i);e.width=o,e.height=o}return e},m.prototype.G=function(t){var e=this;if(this.X.loadingFailed)throw Error("Failed to load character data. Call setCharacter and try again.");return this.Z.then((function(){if(!e.X.loadingFailed)return t()}))},m.prototype.it=function(){var t=this;this.target.addPointerStartListener((function(e){!t.isLoadingCharData&&t.$&&(e.preventDefault(),t.rt("startUserStroke",e.getPoint()))})),this.target.addPointerMoveListener((function(e){!t.isLoadingCharData&&t.$&&(e.preventDefault(),t.rt("continueUserStroke",e.getPoint()))})),this.target.addPointerEndListener((function(){return t.rt("endUserStroke")}))},m.prototype.rt=function(t){var e;if(this.$){for(var r=arguments.length,n=Array(1<r?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(e=this.$)[t].apply(e,n)}},m.create=function(t,e){var r=new m(t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});return r.setCharacter(e),r};var k=null,C=null;m.loadCharacterData=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=void 0;return r=k&&C===e?k:new u(f({},v,e)),C=e,(k=r).loadCharData(t)},m.getScalingTransform=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=new o({width:t,height:e,padding:r});return{x:n.xOffset,y:n.yOffset,scale:n.scale,transform:y("\n      translate("+n.xOffset+", "+(n.height-n.yOffset)+")\n      scale("+n.scale+", "+-1*n.scale+")\n    ").replace(/\s+/g," ")}},t.exports=m},function(t,e,r){"use strict";var n=r(0),i=n.copyAndMergeDeep,o=n.colorStringToVals;function a(t,e,r){this.ot=r,this.st=[],this.state={options:{drawingFadeDuration:e.drawingFadeDuration,drawingWidth:e.drawingWidth,drawingColor:o(e.drawingColor),strokeColor:o(e.strokeColor),outlineColor:o(e.outlineColor),radicalColor:o(e.radicalColor||e.strokeColor),highlightColor:o(e.highlightColor)},character:{main:{opacity:e.showCharacter?1:0,strokes:{}},outline:{opacity:e.showOutline?1:0,strokes:{}},highlight:{opacity:1,strokes:{}}},userStrokes:null};for(var n=0;n<t.strokes.length;n++)this.state.character.main.strokes[n]={opacity:1,displayPortion:1},this.state.character.outline.strokes[n]={opacity:1,displayPortion:1},this.state.character.highlight.strokes[n]={opacity:0,displayPortion:1}}a.prototype.updateState=function(t){var e=i(this.state,t);this.ot(e,this.state),this.state=e},a.prototype.run=function(t){var e=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.map((function(t){return t.scope})).filter((function(t){return t}));return this.cancelMutations(n),new Promise((function(i){var o={et:!0,ut:0,I:i,ht:t,at:r.loop,ct:n};e.st.push(o),e.ft(o)}))},a.prototype.ft=function(t){var e=this;if(t.et){var r=t.ht;if(t.ut>=r.length){if(!t.at)return t.et=!1,this.st=this.st.filter((function(e){return e!==t})),void t.I({canceled:!1});t.ut=0}t.ht[t.ut].run(this).then((function(){t.et&&(t.ut++,e.ft(t))}))}},a.prototype.vt=function(){return this.st.map((function(t){return t.ht[t.ut]}))},a.prototype.pauseAll=function(){this.vt().forEach((function(t){return t.pause()}))},a.prototype.resumeAll=function(){this.vt().forEach((function(t){return t.resume()}))},a.prototype.cancelMutations=function(t){var e=this;this.st.forEach((function(r){r.ct.forEach((function(n){t.forEach((function(t){(0<=n.indexOf(t)||0<=t.indexOf(n))&&e.lt(r)}))}))}))},a.prototype.cancelAll=function(){this.cancelMutations([""])},a.prototype.lt=function(t){t.et=!1;for(var e=t.ut;e<t.ht.length;e++)t.ht[e].cancel(this);t.I&&t.I({canceled:!0}),this.st=this.st.filter((function(e){return e!==t}))},t.exports=a},function(t,e,r){"use strict";var n=r(12),i=r(13),o=function(t){return t.strokes.map((function(e,r){var i,o=t.medians[r].map((function(t){var e=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(t,2);return{x:e[0],y:e[1]}}));return new n(e,o,r,(i=r,t.radStrokes&&0<=t.radStrokes.indexOf(i)))}))};t.exports=function(t,e){var r=o(e);return new i(t,r)}},function(t,e,r){"use strict";var n=r(2),i=n.subtract,o=n.distance,a=n.length;function s(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];this.path=t,this.points=e,this.strokeNum=r,this.isInRadical=n}s.prototype.getStartingPoint=function(){return this.points[0]},s.prototype.getEndingPoint=function(){return this.points[this.points.length-1]},s.prototype.getLength=function(){return a(this.points)},s.prototype.getVectors=function(){var t=this.points[0];return this.points.slice(1).map((function(e){var r=i(e,t);return t=e,r}))},s.prototype.getDistance=function(t){var e=this.points.map((function(e){return o(e,t)}));return Math.min.apply(Math,e)},s.prototype.getAverageDistance=function(t){var e=this;return t.reduce((function(t,r){return t+e.getDistance(r)}),0)/t.length},t.exports=s},function(t,e,r){"use strict";t.exports=function(t,e){this.symbol=t,this.strokes=e}},function(t,e,r){"use strict";var n=[{x:0,y:-124},{x:1024,y:900}];function i(t){this.B=t,this.width=t.width,this.height=t.height,this.dt()}i.prototype.convertExternalPoint=function(t){return{x:(t.x-this.xOffset)/this.scale,y:(this.height-this.yOffset-t.y)/this.scale}},i.prototype.dt=function(){var t=n,e=t[1].x-t[0].x,r=t[1].y-t[0].y,i=this.width-2*this.B.padding,o=this.height-2*this.B.padding,a=i/e,s=o/r;this.scale=Math.min(a,s);var h=this.B.padding+(i-this.scale*e)/2,c=this.B.padding+(o-this.scale*r)/2;this.xOffset=-1*t[0].x*this.scale+h,this.yOffset=-1*t[0].y*this.scale+c},t.exports=i},function(t,e,r){"use strict";var n=r(16),i=r(17),o=r(0),a=o.callIfExists,s=o.counter,h=r(18),c=r(2),u=r(4),l=function(t){return{pathString:c.getPathString(t.externalPoints),points:t.points.map((function(t){return c.round(t)}))}};function p(t,e,r){this.V=t,this.F=e,this.et=!1,this.q=r}p.prototype.startQuiz=function(t){this.et=!0,this.B=t,this.pt=0,this.yt=0,this.wt=0,this.gt=[],this.F.run(h.startQuiz(this.V,t.strokeFadeDuration))},p.prototype.startUserStroke=function(t){var e=this.q.convertExternalPoint(t);if(!this.et)return null;if(this.kt)return this.endUserStroke();var r=s();this.kt=new i(r,e,t),this.F.run(h.startUserStroke(r,e))},p.prototype.continueUserStroke=function(t){if(this.kt){var e=this.q.convertExternalPoint(t);this.kt.appendPoint(e,t);var r=this.kt.points.slice(0);this.F.run(h.updateUserStroke(this.kt.id,r))}},p.prototype.endUserStroke=function(){if(this.kt)if(this.F.run(h.removeUserStroke(this.kt.id,this.B.drawingFadeDuration)),1!==this.kt.points.length){var t=this.mt(),e=0<this.F.state.character.outline.opacity;n(this.kt,this.V,this.pt,{isOutlineVisible:e,leniency:this.B.leniency})?this.bt(t):(this.Ct(),this.yt>=this.B.showHintAfterMisses&&this.F.run(h.highlightStroke(t,this.B.highlightColor,this.B.strokeHighlightSpeed))),this.kt=null}else this.kt=null},p.prototype.cancel=function(){this.et=!1,this.kt&&this.F.run(h.removeUserStroke(this.kt.id,this.B.drawingFadeDuration))},p.prototype.bt=function(t){a(this.B.onCorrectStroke,{character:this.V.symbol,strokeNum:this.pt,mistakesOnStroke:this.yt,totalMistakes:this.wt,strokesRemaining:this.V.strokes.length-this.pt-1,drawnPath:l(this.kt)});var e=u.showStroke("main",this.pt,this.B.strokeFadeDuration);this.pt+=1,this.yt=0,this.pt===this.V.strokes.length&&(this.et=!1,a(this.B.onComplete,{character:this.V.symbol,totalMistakes:this.wt}),this.B.highlightOnComplete&&(e=e.concat(h.highlightCompleteChar(this.V,this.B.highlightCompleteColor,2*this.B.strokeHighlightDuration)))),this.F.run(e)},p.prototype.Ct=function(){this.yt+=1,this.wt+=1,a(this.B.onMistake,{character:this.V.symbol,strokeNum:this.pt,mistakesOnStroke:this.yt,totalMistakes:this.wt,strokesRemaining:this.V.strokes.length-this.pt,drawnPath:l(this.kt)})},p.prototype.mt=function(){return this.V.strokes[this.pt]},t.exports=p},function(t,e,r){"use strict";var n=r(0),i=n.average,o=n.assign,a=r(2),s=a.cosineSimilarity,h=a.equals,c=a.frechetDist,u=a.distance,l=a.subtract,p=a.normalizeCurve,f=a.rotate,d=a.length,y=function(t,e){var r,n,o,a=(n=[],o=(r=t)[0],r.slice(1).forEach((function(t){n.push(l(t,o)),o=t})),n),h=e.getVectors(),c=a.map((function(t){var e=h.map((function(e){return s(e,t)}));return Math.max.apply(Math,e)}));return 0<i(c)},g=[Math.PI/16,Math.PI/32,0,-1*Math.PI/32,-1*Math.PI/16],v=function(t,e,r){var n=r.leniency,i=void 0===n?1:n,o=r.isOutlineVisible,a=void 0!==o&&o,s=e.getAverageDistance(t),h=s<=350*(a||0<e.strokeNum?.5:1)*i;if(!h)return{isMatch:!1,avgDist:s};var l,v,m,k,C,w,S,x,b,E,A,O,_=(l=t,m=i,k=u((v=e).getStartingPoint(),l[0]),C=u(v.getEndingPoint(),l[l.length-1]),k<=250*m&&C<=250*m),P=y(t,e),D=(w=t,S=e.points,x=i,b=p(w),E=p(S),A=1/0,g.forEach((function(t){var e=c(b,f(E,t));e<A&&(A=e)})),A<=.4*x),T=(O=e,.35<=i*(d(t)+25)/(O.getLength()+25));return{isMatch:h&&_&&P&&D&&T,avgDist:s}};t.exports=function(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=function(t){if(t.length<2)return t;var e=[t[0]];return t.slice(1).forEach((function(t){h(t,e[e.length-1])||e.push(t)})),e}(t.points);if(i.length<2)return null;var a=v(i,e.strokes[r],n);if(!a.isMatch)return!1;for(var s=e.strokes.slice(r+1),c=a.avgDist,u=0;u<s.length;u++){var l=v(i,s[u],n);l.isMatch&&l.avgDist<c&&(c=l.avgDist)}if(c<a.avgDist){var p=.6*(c+a.avgDist)/(2*a.avgDist),f=(n.leniency||1)*p,d=o({},n,{leniency:f});return v(i,e.strokes[r],d).isMatch}return!0}},function(t,e,r){"use strict";function n(t,e,r){this.id=t,this.points=[e],this.externalPoints=[r]}n.prototype.appendPoint=function(t,e){this.points.push(t),this.externalPoints.push(e)},t.exports=n},function(t,e,r){"use strict";var n=r(5),i=r(4),o=r(0).objRepeat;t.exports={highlightCompleteChar:function(t,e,r){return[new n("character.highlight.strokeColor",e)].concat(i.hideCharacter("highlight",t)).concat(i.showCharacter("highlight",t,r/2)).concat(i.hideCharacter("highlight",t,r/2))},highlightStroke:i.highlightStroke,startQuiz:function(t,e){return i.hideCharacter("main",t,e).concat([new n("character.highlight",{opacity:1,strokes:o({opacity:0},t.strokes.length)},{force:!0}),new n("character.main",{opacity:1,strokes:o({opacity:0},t.strokes.length)},{force:!0})])},startUserStroke:function(t,e){return[new n("quiz.activeUserStrokeId",t,{force:!0}),new n("userStrokes."+t,{points:[e],opacity:1},{force:!0})]},updateUserStroke:function(t,e){return[new n("userStrokes."+t+".points",e,{force:!0})]},removeUserStroke:function(t,e){return[new n("userStrokes."+t+".opacity",0,{duration:e}),new n("userStrokes."+t,null,{force:!0})]}}},function(t,e,r){"use strict";var n=r(20),i=r(24);t.exports={HanziWriterRenderer:n,createRenderTarget:i.init}},function(t,e,r){"use strict";var n=r(21),i=r(23),o=r(0).assign,a=r(3);function s(t,e){this.V=t,this.q=e,this.Mt=new n(t),this.St=new n(t),this.jt=new n(t),this.Pt={}}s.prototype.mount=function(t){var e=t.createSubRenderTarget(),r=e.svg;a.attr(r,"transform","\n    translate("+this.q.xOffset+", "+(this.q.height-this.q.yOffset)+")\n    scale("+this.q.scale+", "+-1*this.q.scale+")\n  "),this.St.mount(e),this.Mt.mount(e),this.jt.mount(e),this.xt=e},s.prototype.render=function(t){var e=this;this.St.render({opacity:t.character.outline.opacity,strokes:t.character.outline.strokes,strokeColor:t.options.outlineColor}),this.Mt.render({opacity:t.character.main.opacity,strokes:t.character.main.strokes,strokeColor:t.options.strokeColor,radicalColor:t.options.radicalColor}),this.jt.render({opacity:t.character.highlight.opacity,strokes:t.character.highlight.strokes,strokeColor:t.options.highlightColor});var r=t.userStrokes||{};Object.keys(this.Pt).forEach((function(t){r[t]||(e.Pt[t].destroy(),delete e.Pt[t])})),Object.keys(r).forEach((function(n){if(r[n]){var a=o({strokeWidth:t.options.drawingWidth,strokeColor:t.options.drawingColor},r[n]),s=e.Pt[n];s||((s=new i).mount(e.xt,a),e.Pt[n]=s),s.render(a)}}))},s.prototype.destroy=function(){a.removeElm(this.xt.svg),this.xt.defs.innerHTML=""},t.exports=s},function(t,e,r){"use strict";var n=r(0).isMsBrowser,i=r(22);function o(t){this.Ot={},this.At=t.strokes.map((function(t){return new i(t)}))}o.prototype.mount=function(t){var e=t.createSubRenderTarget();this.Ft=e.svg,this.At.forEach((function(t,r){t.mount(e)}))},o.prototype.render=function(t){if(t!==this.Ot){t.opacity!==this.Ot.opacity&&(this.Ft.style.opacity=t.opacity,n||(0===t.opacity?this.Ft.style.display="none":0===this.Ot.opacity&&this.Ft.style.removeProperty("display")));var e=!this.Ot||t.strokeColor!==this.Ot.strokeColor||t.radicalColor!==this.Ot.radicalColor;if(e||t.strokes!==this.Ot.strokes)for(var r=0;r<this.At.length;r++)!e&&this.Ot.strokes&&t.strokes[r]===this.Ot.strokes[r]||this.At[r].render({strokeColor:t.strokeColor,radicalColor:t.radicalColor,opacity:t.strokes[r].opacity,displayPortion:t.strokes[r].displayPortion});this.Ot=t}},t.exports=o},function(t,e,r){"use strict";var n=r(0).counter,i=r(3),o=r(2),a=o.extendStart,s=o.getPathString,h=r(6);function c(t){this.Ot={},this.L=t,this.R=t.getLength()+100}(c.prototype=Object.create(h.prototype)).mount=function(t){this.Dt=i.createElm("path"),this.Tt=i.createElm("clipPath"),this.Et=i.createElm("path");var e="mask-"+n();i.attr(this.Tt,"id",e),i.attr(this.Et,"d",this.L.path),this.Dt.style.opacity=0,i.attr(this.Dt,"clip-path",i.urlIdRef(e));var r=a(this.L.points,100);return i.attr(this.Dt,"d",s(r)),i.attrs(this.Dt,{stroke:"#FFFFFF","stroke-width":200,fill:"none","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":this.R+","+this.R}),this.Tt.appendChild(this.Et),t.defs.appendChild(this.Tt),t.svg.appendChild(this.Dt),this},c.prototype.render=function(t){if(t!==this.Ot){t.displayPortion!==this.Ot.displayPortion&&(this.Dt.style.strokeDashoffset=this.z(t.displayPortion));var e=this.H(t);if(e!==this.H(this.Ot)){var r=e.r,n=e.g,o=e.b,a=e.a;i.attrs(this.Dt,{stroke:"rgba("+r+","+n+","+o+","+a+")"})}t.opacity!==this.Ot.opacity&&(this.Dt.style.opacity=t.opacity),this.Ot=t}},t.exports=c},function(t,e,r){"use strict";var n=r(3),i=r(2).getPathString;function o(){this.Ot={}}o.prototype.mount=function(t){this.It=n.createElm("path"),t.svg.appendChild(this.It)},o.prototype.render=function(t){if(t!==this.Ot){if(t.strokeColor!==this.Ot.strokeColor||t.strokeWidth!==this.Ot.strokeWidth){var e=t.strokeColor,r=e.r,o=e.g,a=e.b,s=e.a;n.attrs(this.It,{fill:"none",stroke:"rgba("+r+","+o+","+a+","+s+")","stroke-width":t.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round"})}t.opacity!==this.Ot.opacity&&n.attr(this.It,"opacity",t.opacity),t.points!==this.Ot.points&&n.attr(this.It,"d",i(t.points)),this.Ot=t}},o.prototype.destroy=function(){n.removeElm(this.It)},t.exports=o},function(t,e,r){"use strict";(function(e){var n=r(3),i=n.createElm,o=n.attrs,a=r(7);function s(t,e){this.svg=t,this.defs=e,this.node=t,this.node.createSVGPoint&&(this.Wt=this.node.createSVGPoint())}(s.prototype=Object.create(a.prototype)).createSubRenderTarget=function(){var t=i("g");return this.svg.appendChild(t),new s(t,this.defs)},s.prototype._=function(t){if(this.Wt){this.Wt.x=t.clientX,this.Wt.y=t.clientY;var e=this.Wt.matrixTransform(this.node.getScreenCTM().inverse());return{x:e.x,y:e.y}}return a.prototype._.call(this,t)},s.prototype.K=function(t){if(this.Wt){this.Wt.x=t.touches[0].clientX,this.Wt.y=t.touches[0].clientY;var e=this.Wt.matrixTransform(this.node.getScreenCTM().inverse());return{x:e.x,y:e.y}}return a.prototype.K.call(this,t)},s.init=function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"100%",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"100%",a=void 0,h=t;if("string"==typeof t&&(h=e.document.getElementById(t)),!h)throw new Error("HanziWriter target element not found: "+t);var c=h.nodeName.toUpperCase();"SVG"===c||"G"===c?a=h:(a=i("svg"),h.appendChild(a)),o(a,{width:r,height:n});var u=i("defs");return a.appendChild(u),new s(a,u)},t.exports=s}).call(e,r(1))},function(t,e,r){"use strict";var n=r(26),i=r(30);t.exports={HanziWriterRenderer:n,createRenderTarget:i.init}},function(t,e,r){"use strict";var n=r(27),i=r(29),o=r(0).assign;function a(t,e){this.V=t,this.q=e,this.Mt=new n(t),this.St=new n(t),this.jt=new n(t)}a.prototype.mount=function(t){this.zt=t},a.prototype.Rt=function(t){var e=this.zt.getContext();e.clearRect(0,0,this.q.width,this.q.height),e.save(),e.translate(this.q.xOffset,this.q.height-this.q.yOffset),e.transform(1,0,0,-1,0,0),e.scale(this.q.scale,this.q.scale),t(e),e.restore(),e.draw&&e.draw()},a.prototype.render=function(t){var e=this;this.Rt((function(r){e.St.render(r,{opacity:t.character.outline.opacity,strokes:t.character.outline.strokes,strokeColor:t.options.outlineColor}),e.Mt.render(r,{opacity:t.character.main.opacity,strokes:t.character.main.strokes,strokeColor:t.options.strokeColor,radicalColor:t.options.radicalColor}),e.jt.render(r,{opacity:t.character.highlight.opacity,strokes:t.character.highlight.strokes,strokeColor:t.options.highlightColor});var n=t.userStrokes||{};Object.keys(n).forEach((function(e){if(n[e]){var a=o({strokeWidth:t.options.drawingWidth,strokeColor:t.options.drawingColor},n[e]);i(r,a)}}))}))},a.prototype.destroy=function(){},t.exports=a},function(t,e,r){"use strict";var n=r(28);function i(t){this.At=t.strokes.map((function(t){return new n(t)}))}i.prototype.render=function(t,e){if(!(e.opacity<.05))for(var r=0;r<this.At.length;r++)this.At[r].render(t,{strokeColor:e.strokeColor,radicalColor:e.radicalColor,opacity:e.strokes[r].opacity*e.opacity,displayPortion:e.strokes[r].displayPortion})},t.exports=i},function(t,e,r){"use strict";(function(e){var n=r(2).extendStart,i=r(8),o=i.drawPath,a=i.pathStringToCanvas,s=r(6);function h(t){var r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.L=t,this.R=t.getLength()+100,r&&e.Path2D?this.Ht=new e.Path2D(this.L.path):this.Lt=a(this.L.path),this.Ut=n(this.L.points,100)}(h.prototype=Object.create(s.prototype)).render=function(t,e){if(!(e.opacity<.05)){t.save(),this.Ht?t.clip(this.Ht):(this.Lt(t),t.globalAlpha=0,t.stroke(),t.clip());var r=this.H(e),n=r.r,i=r.g,a=r.b,s=r.a,h=1===s?"rgb("+n+","+i+","+a+")":"rgb("+n+","+i+","+a+","+s+")",c=this.z(e.displayPortion);t.globalAlpha=e.opacity,t.strokeStyle=h,t.fillStyle=h,t.lineWidth=200,t.lineCap="round",t.lineJoin="round",t.setLineDash([this.R,this.R],c),t.lineDashOffset=c,o(t,this.Ut),t.restore()}},t.exports=h}).call(e,r(1))},function(t,e,r){"use strict";var n=r(8).drawPath;t.exports=function(t,e){if(!(e.opacity<.05)){var r=e.strokeColor,i=r.r,o=r.g,a=r.b,s=r.a;t.save(),t.globalAlpha=e.opacity,t.lineWidth=e.strokeWidth,t.strokeStyle="rgba("+i+","+o+","+a+","+s+")",t.lineCap="round",t.lineJoin="round",n(t,e.points),t.restore()}}},function(t,e,r){"use strict";(function(e){var n=r(7);function i(t){this.node=t}(i.prototype=Object.create(n.prototype)).getContext=function(){return this.node.getContext("2d")},i.init=function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"100%",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"100%",o=void 0,a=t;if("string"==typeof t&&(a=e.document.getElementById(t)),!a)throw new Error("HanziWriter target element not found: "+t);return"CANVAS"===a.nodeName.toUpperCase()?o=a:(o=e.document.createElement("canvas"),a.appendChild(o)),o.setAttribute("width",r),o.setAttribute("height",n),new i(o)},t.exports=i}).call(e,r(1))},function(t,e,r){"use strict";(function(e){t.exports=function(t,r,n){var i=new e.XMLHttpRequest;i.overrideMimeType&&i.overrideMimeType("application/json"),i.open("GET","https://cdn.jsdelivr.net/npm/hanzi-writer-data@2.0/"+t+".json",!0),i.onerror=function(t){n(i,t)},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?r(JSON.parse(i.responseText)):0!==i.status&&n&&n(i))},i.send(null)}}).call(e,r(1))},function(t,e,r){"use strict";var n=r(0).callIfExists;function i(t){this._t=0,this.B=t,this.Kt=!1,this.loadingFailed=!1}i.prototype.Nt=function(t,e){var r=this,n=function(t){e===r._t&&r.I(t)},i=this.B.charDataLoader(t,n,(function(t){e===r._t&&r.Bt(t)}));i&&n(i)},i.prototype.Gt=function(){var t=this;return new Promise((function(e,r){t.I=e,t.Bt=r})).then((function(e){return t.Kt=!1,n(t.B.onLoadCharDataSuccess,e),e}),(function(e){if(t.Kt=!1,t.loadingFailed=!0,n(t.B.onLoadCharDataError,e),!t.B.onLoadCharDataError){if(e instanceof Error)throw e;var r=new Error("Failed to load char data for "+t.Vt);throw r.reason=e,r}}))},i.prototype.loadCharData=function(t){this.Vt=t;var e=this.Gt();return this.loadingFailed=!1,this.Kt=!0,this._t++,this.Nt(t,this._t),e},t.exports=i}])},"object"==_typeof(exports)&&"object"==_typeof(module)?module.exports=i():(__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=i)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this,__webpack_require__(3)(module))},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=r(2);function o(t){-1===t.plugins.indexOf("draw")&&(t.plugins.push("draw"),t.draw=i)}function a(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(window.CncharDraw=i),"object"===("undefined"==typeof window?"undefined":n(window))&&window.CnChar?o(window.CnChar):void 0!==t&&o(t)}i.init=a,a(),t.exports=i},function(t,e,r){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=r(0),o=r(4),a=o.TYPE,s=o.merge,h=o.TEST_STATUS,c=r(5).pickCnChar,u=r(6).buildLinesStr,l=r(7).stroke,p=document.createElementNS("http://www.w3.org/2000/svg","svg"),f=function(){function t(e){var r=e.el,n=void 0===r?"cnchar-draw":r,i=e.text,o=void 0===i?"":i,h=e.type,c=void 0===h?a.NORMAL:h,u=e.style,l=void 0===u?{}:u,p=e.line,f=void 0===p?{}:p,d=e.animation,y=void 0===d?{}:d,g=e.stroke,v=void 0===g?{}:g,m=e.test,k=void 0===m?{}:m;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=c,this.writers=[],this.text=o.split("");var C={style:l,line:f};switch(c){case a.ANIMATION:C.animation=y;break;case a.STROKE:C.stroke=v;break;case a.TEST:C.test=k}this.option=s(c,C),this.el="string"==typeof n?document.getElementById(n):n,this.el||(this.el=document.createElement("div"),document.body.appendChild(this.el)),this.init()}var e,r,o;return e=t,(r=[{key:"init",value:function(){var t=this,e=u(this.option),r=e.lineHTML,n=e.border;p.setAttribute("width",this.option.width),p.setAttribute("height",this.option.height),n&&(p.style.border=n);var o=function(){var t=p.cloneNode();return r&&(t.innerHTML=r),t};if(this.type===a.STROKE)l(this,o);else if(this.text.forEach((function(e){var r=o();t.writers.push(i.create(r,e,t.option)),t.el.appendChild(r)})),this.type===a.ANIMATION){var s=!1;this.animateStart=function(){s||(s=!0,t.option.loopAnimate?t.loopAnimate():t.animate(t.option.animateComplete))},this.option.autoAnimate?this.animateStart():this.el.addEventListener("click",(function e(){t.animateStart(),t.el.removeEventListener("click",e,!1)}),!1)}else if(this.type===a.TEST){var c=function(){return{}},f=this.option.onTestStatus;"function"==typeof f&&(c=function(t){return{onMistake:function(e){f({index:t,status:h.MISTAKE,data:e})},onCorrectStroke:function(e){f({index:t,status:h.CORRECT,data:e})},onComplete:function(e){f({index:t,status:h.COMPLETE,data:e})}}}),this.writers.forEach((function(t,e){t.quiz(c(e))}))}}},{key:"animate",value:function(t){var e=this,r=this.option;r.stepByStep?(!1===r.showCharacter&&this.writers.forEach((function(t){t.hideCharacter()})),this._animateStep(0,t)):function(){for(var r=0,n=0;n<e.writers.length;n++)e._animateSingle(n,(function(){++r===e.writers.length&&t()}))}()}},{key:"loopAnimate",value:function(){var t=this,e=this.option;this.animate((function(){e.animateComplete(),setTimeout((function(){t.loopAnimate()}),e.delayBetweenStrokes)}))}},{key:"_animateSingle",value:function(t,e){t>=this.writers.length?e(!0):this.writers[t].animateCharacter({onComplete:function(){e(!1)}})}},{key:"_animateStep",value:function(t,e){var r=this;this._animateSingle(t,(function(n){n?e():setTimeout((function(){r._animateStep(t+1,e)}),r.option.delayBetweenStrokes)}))}}])&&n(e.prototype,r),o&&n(e,o),t}();function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(t=c(t)))throw new Error("Draw 方法text必须含有中文");return e.text=t,new f(e)}d.TYPE=a,d.TEST_STATUS=h,t.exports=d},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var r={NORMAL:"normal",ANIMATION:"animation",STROKE:"stroke",TEST:"test"},n={showOutline:!0,showCharacter:!0,currentColor:"#b44",length:60,padding:5,outlineColor:"#ddd",strokeColor:"#555",radicalColor:null,strokeFadeDuration:400,lineStraight:!0,lineCross:!0,lineWidth:1,lineColor:"#ddd",lineDash:!0,border:!0,borderWidth:1,borderColor:"#ccc",borderDash:!1,strokeAnimationSpeed:1,delayBetweenStrokes:1e3,delayBetweenLoops:200,autoAnimate:!0,animateComplete:function(){},stepByStep:!0,loopAnimate:!1,strokeHighlightSpeed:20,highlightColor:"#aaf",drawingColor:"#333",drawingWidth:4,showHintAfterMisses:3,highlightOnComplete:!0,highlightCompleteColor:null,onTestStatus:null};function i(t){return void 0===t}t.exports={TYPE:r,Option:n,merge:function(t,e){var o={};for(var a in e){var s=e[a];for(var h in s)i(s[h])||(o[h]=s[h])}return function(t,e){(e=e||Object.keys(n)).forEach((function(e){i(t[e])&&(t[e]=n[e])}))}(o),o.width=o.length,o.height=o.length,function(t,e,n){t===r.ANIMATION?e.animation&&!i(e.animation.showCharacter)||(n.showCharacter=!1):t===r.STROKE&&(n.showCharacter=!1)}(t,e,o),o},TEST_STATUS:{MISTAKE:"mistake",CORRECT:"correct",COMPLETE:"complete"}}},function(t,e){function r(t){var e=t.charCodeAt(0);return e>=19968&&e<=40869}t.exports={isCnChar:r,pickCnChar:function(t){for(var e="",n=0;n<t.length;n++)r(t[n])&&(e+=t[n]);return e}}},function(t,e){t.exports={buildLinesStr:function(t){var e=t.width,r=t.lineStraight,n=t.lineCross,i=t.lineWidth,o=t.lineColor,a=t.lineDash,s=t.border,h=t.borderWidth,c=t.borderColor,u=t.borderDash,l="",p="";if(a&&(p+='stroke-dasharray="8"'),i>1&&(p+='stroke-width="'.concat(i,'"')),r){var f=e/2;l+='<line x1="'.concat(f,'" y1="0" x2="').concat(f,'" y2="').concat(e,'" ').concat(p,' stroke="').concat(o,'" />\n        <line x1="0" y1="').concat(f,'" x2="').concat(e,'" y2="').concat(f,'" ').concat(p,' stroke="').concat(o,'" />')}n&&(l+='<line x1="0" y1="0" x2="'.concat(e,'" y2="').concat(e,'" ').concat(p,' stroke="').concat(o,'" />\n        <line x1="').concat(e,'" y1="0" x2="0" y2="').concat(e,'" ').concat(p,' stroke="').concat(o,'" />'));var d="";return s&&(d="".concat(h,"px ").concat(u?"dashed":"solid"," ").concat(c)),{lineHTML:l,border:d}}}},function(t,e,r){var n=r(0);function i(t){var e=t.option,r=t.target,i=t.strokes,a=t.radStrokes,s=t.cloneSvg,h=t.current,c=t.width,u=a.length>0&&e.radicalColor?e.radicalColor:null,l=s();r.appendChild(l);var p=document.createElementNS("http://www.w3.org/2000/svg","g"),f=n.getScalingTransform(c,c,e.padding);p.setAttributeNS(null,"transform",f.transform),l.appendChild(p);for(var d=0;d<=h;d++){var y=e.strokeColor;d===h&&e.currentColor?y=e.currentColor:u&&-1!==a.indexOf(d)&&(y=u),o(i[d],p,y)}if(e.showOutline&&h+1<=i.length)for(var g=h+1;g<i.length;g++)o(i[g],p,e.outlineColor)}function o(t,e,r){var n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttributeNS(null,"d",t),n.style.fill=r,e.appendChild(n)}t.exports={stroke:function(t,e){t.text.forEach((function(r){var o=document.createElement("div");t.el.appendChild(o),n.loadCharacterData(r).then((function(r){for(var n=0;n<r.strokes.length;n++)i({option:t.option,target:o,strokes:r.strokes,radStrokes:r.radStrokes||[],current:n,cloneSvg:e,width:t.option.width})}))}))}}}]);